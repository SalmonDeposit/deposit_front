<app-files-table-header [currentFolder]="currentFolder" [searchMode]="searchMode"></app-files-table-header>
<ng-container *ngIf="filesDisplay && filesDisplay.length > 0 else noFiles">
  <clr-datagrid [clrDgRowSelection]="false" cdkDropList (cdkDropListDropped)="onDrop($event)" cdkDropListSortingDisabled>
    <clr-dg-column>Type</clr-dg-column>
    <clr-dg-column [clrDgSortBy]="nameComparator">Nom</clr-dg-column>
    <clr-dg-column [clrDgSortBy]="dateComparator">Date de cr√©ation</clr-dg-column>
    <clr-dg-column>Taille</clr-dg-column>
    <clr-dg-column>Action</clr-dg-column>

    <clr-dg-row *clrDgItems="let fileDisplay of filesDisplay; let i = index"
                [clrDgItem]="fileDisplay">
      <clr-dg-cell cdkDrag cdkDragLockAxis="y">
        <div   class="img-document-type m-auto" (click)="goToDetails(fileDisplay.id, fileDisplay.elementType)">
          <img src="{{fileDisplay.type| fileTypeImagePipe}}"/>
        </div>
      </clr-dg-cell>
      <clr-dg-cell>
        {{ fileDisplay.name }}
      </clr-dg-cell>
      <clr-dg-cell>{{ fileDisplay.createdAt | date:'dd.MM.YYYY HH:mm' }}</clr-dg-cell>
      <clr-dg-cell>{{fileDisplay.size | fileSize}}</clr-dg-cell>
      <clr-dg-cell class="actions-buttons">
        <button (click)="onDelete(fileDisplay.id, fileDisplay.elementType)" class="btn btn-danger">
          <fa-icon class="icon" [icon]="trash"></fa-icon>
        </button>
      </clr-dg-cell>
      <div *cdkDragPreview matchSize="true" class="container dragdrop-placeholder">
        {{fileDisplay.name}}
      </div>
    </clr-dg-row>
  </clr-datagrid>

  <app-deposit-delete-modal title="Supprimer le dossier"
                            [objectId]="currentDeleteDocumentId"
                            [isOpen]="deleteFolderModal"
                            (isOpenChange)="deleteFolderModal = $event"
                            [service]="folderService">
  </app-deposit-delete-modal>
  <app-deposit-delete-modal title="Supprimer le document"
                            [objectId]="currentDeleteDocumentId"
                            [isOpen]="deleteDocumentModal"
                            (isOpenChange)="deleteDocumentModal = $event"
                            [service]="documentService">
  </app-deposit-delete-modal>
</ng-container>
<ng-template #noFiles>
  <p>
    Y a pas de fichier de tes morts
  </p>

</ng-template>


